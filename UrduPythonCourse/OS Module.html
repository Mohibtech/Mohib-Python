<div dir="ltr" style="text-align: left;" trbidi="on">
<h1>OS Module</h1>
OS is probably the most frequently used module in Python. For opening a file, its open() function is the most used function to read and write files.<br />
<br />
<h3>Finding Information about Current Directory</h3>
To get the complete path of the current working directory enter:<br />
<pre class="prettyprint">
import os<br />
os.getcwd()<br />
<br />
'C:\\Python33'
</pre><br />
<br />
If os module has already been imported then current directory can be displayed as following.<br />
<pre class="prettyprint">
os.path.abspath('.')
</pre><br />
<br />
<br />
If you want a list of all files and directories in the current directory<br />
<pre class="prettyprint">
import os<br />
os.listdir('.')<br />
-----------------------------------<br />
['apple.py', 'dir1', 'try_os.py']
</pre><br />
<br />
<h3>Change to another directory</h3>
This can be done by using os.chdir(path_to_new_directory) command. For example, suppose<br />
<pre class="prettyprint">
os.getcwd()
'/Users/coolpython/try_python_os'
</pre><br />
<br />
That is, we are in directory try_python_os and we want to make dir1 inside try_python_os as our current working directory. We can do this using the command:<br />
<br />
<pre class="prettyprint">
os.chdir('./dir1')<br />
</pre>
<br />
We can go back to the parent directory of dir using:<br />
<pre class="prettyprint">
os.chdir('../')
</pre><br />
<br />
The above two examples use relative paths to change directories. You can also enter the absolute path to do so.<br />
<h3>Creating Directories</h3>
Suppose you want to make another directory named dir2 within try_python_os. You can do so using:<br />
<pre class="prettyprint">
import os<br />
os.mkdir('Users/coolpython/try_python_os/dir2')
</pre><br />
<br />
This will work regardless of your location because you are using the absolute path name. If current working directory is Users/coolpython/try_python_os you can also make a new directory within try_python_os using relative path name, as in this example:<br />
<br />
<pre class="prettyprint">
import os<br />
os.mkdir('./dir2')<br />
</pre><br />
Note that if a directory already exists when you try to create it, you will get an OSError. One possible work around is to test whether the directory exists and then use the mkdir command only if the directory does not exist. This can be done using os.path.exists method:<br />
<br />
<pre class="prettyprint">
import os<br />
if os.path.exists('./dir2'):<br />
&nbsp; &nbsp; pass<br />
else:<br />
&nbsp; &nbsp; os.mkdir('./dir2')
</pre>
<br />
One problem using this method is that if there exists a file named dir2 in try_python_os then the above code snippet will not create a directory dir2 (because os.path.exists('./dir2') will return True). To prevent this from happening you can instead use os.path.isdir() to check the existence of a directory. For example, instead of the above code-snippet you can do the following:<br />
<br />
<pre class="prettyprint">
import os<br />
if os.path.isdir('./dir2'):<br />
&nbsp; &nbsp; pass<br />
else:<br />
&nbsp; &nbsp; os.mkdir('./dir2')<br />
</pre>
<br />
<h3 >Extracting filename from a given path</h3>
Suppose you have a path to a file (either absolute or relative) and you want to extract the filename from this path. You can do this using os.path.basename. For example:<br />
<br />
<pre class="prettyprint">
import os<br />
os.path.basename('/Users/somename/somedirectory/pythoniscool.txt')<br />
<br />
pythoniscool.txt
</pre><br />
<br />
Another way to do this is to use os.path.split, which returns a tuple of two elements: first is the head of the path containing everything before the last ‘/’ and the second element is the tail containing everything after the last ‘/’.<br />
<br />
<br />
<pre class="prettyprint">
import os<br />
os.path.split('/Users/somename/somedirectory/pythoniscool.txt')<br />
</pre>
<br />
<br />
<b>Output:</b><br />
('/Users/some/somedirectory', 'test.txt')<br />
<br />
<br />
os.path.split('/Users/somename/somedirectory/test.txt')[1]<br />
to extract the filename from the path.<br />
<div>
<br /></div>
</div>
